create table "Пользователь" (
	"Код пользователя" integer primary key generated by default as identity,
	"Логин" text not null,
	"Пароль" text not null,
	"Права" smallint not null
)

create table "Продавец" (
	"Код продавца" integer primary key generated by default as identity,
	"Код пользователя" integer references "Пользователь" ("Код пользователя"),
	"Фамилия" text not null,
	"Имя" text not null,
	"Отчество" text,
	"Номер телефона" text not null,
	"E-mail" text,
	"Должность" text -- должность
)

create table "Покупатель" (
	"Код покупателя" integer primary key generated by default as identity,
	"Код пользователя" integer references "Пользователь" ("Код пользователя"),
	"Фамилия" text not null,
	"Имя" text not null,
	"Номер телефона" text not null,
	"E-mail" text,
	"Адрес" text -- or city
)

create table "Товар" (
	"Код товара" integer primary key generated by default as identity, -- он же атрибут/артикул
	"Название" text not null,
	"Описание" text,
	"Характеристики" text -- or enum
)

create table "Заказ" (
	"Код заказа" integer primary key generated by default as identity,
	"Код покупателя" integer references "Покупатель" ("Код покупателя"),
	"Доставка" smallint, -- or enum -- способ доставки (самовывоз/курьером)
	"Адрес" text -- адрес доставки/адрес самовывоза (или лучше их разделить?)
)

create table "Буфер" (
	"Код буфера" integer primary key generated by default as identity,
	"Код заказа" integer references order ("Код заказа"),
	"Код товара" integer references "Товар" ("Код товара"),
	"Количество" smallint
)
